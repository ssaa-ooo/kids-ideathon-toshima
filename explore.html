<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è±Šå³¶åŒºã®ã€ŒãŠé¡Œã€ã‚’æ¢æ¤œã—ã‚ˆã†ï¼ï½œã¨ã—ã¾ã‚­ãƒƒã‚ºã‚¢ã‚¤ãƒ‡ã‚¢ã‚½ãƒ³</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; color: #333; background-color: #f0f9ff; }
        .adventure-card:hover { transform: scale(1.02) rotate(1deg); transition: all 0.3s ease; }
        .map-bg { background-image: radial-gradient(#cbd5e1 1px, transparent 1px); background-size: 20px 20px; }
        .ai-shimmer { background: linear-gradient(90deg, #eff6ff 25%, #dbeafe 50%, #eff6ff 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        .break-phrase { display: inline-block; }
        #mobile-menu-overlay.active { opacity: 1; pointer-events: auto; }
        #mobile-menu-content.active { transform: translateX(0); }
    </style>
</head>
<body class="antialiased map-bg text-slate-800">

    <!-- Header / Navigation -->
    <header class="bg-white/80 backdrop-blur-md border-b sticky top-0 z-50">
        <div class="container mx-auto px-4 md:px-6 py-3 flex justify-between items-center text-slate-800">
            <a href="index.html" class="text-base md:text-xl font-black tracking-tighter text-blue-600 leading-none z-50">
                ã¨ã—ã¾ã‚­ãƒƒã‚º<span class="text-orange-500">ã‚¢ã‚¤ãƒ‡ã‚¢ã‚½ãƒ³</span>
            </a>
            <nav class="hidden lg:flex space-x-6 text-slate-800">
                <a href="index.html#about" class="text-sm font-bold text-gray-600 hover:text-blue-600">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã¯</a>
                <a href="index.html#workflow" class="text-sm font-bold text-gray-600 hover:text-blue-600">æŒ‘æˆ¦ã®æµã‚Œ</a>
                <a href="index.html#schedule" class="text-sm font-bold text-gray-600 hover:text-blue-600 text-slate-600">ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</a>
                <a href="support.html" class="text-sm font-bold text-blue-600 hover:text-blue-800">ä¼æ¥­ã®çš†æ§˜ã¸</a>
            </nav>
            <div class="flex items-center gap-3">
                <a href="explore.html" class="hidden sm:block bg-orange-500 text-white px-3 md:px-4 py-1.5 md:py-2 rounded-full text-xs md:text-sm font-bold shadow-lg hover:bg-orange-600 transition">è¡—ã‚’æ¢æ¤œã—ã¦ã¿ã‚‹</a>
                <button id="menu-btn" class="lg:hidden w-10 h-10 flex flex-col justify-center items-center gap-1.5 z-50 focus:outline-none">
                    <span class="w-6 h-0.5 bg-blue-600 transition-transform duration-300"></span>
                    <span class="w-6 h-0.5 bg-blue-600 transition-opacity duration-300"></span>
                    <span class="w-6 h-0.5 bg-blue-600 transition-transform duration-300"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-blue-900/40 backdrop-blur-sm z-[60] opacity-0 pointer-events-none transition-opacity duration-300 lg:hidden text-slate-800">
        <div id="mobile-menu-content" class="absolute right-0 top-0 h-full w-4/5 max-w-sm bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-out flex flex-col p-8 text-slate-800">
            <div class="mt-12 space-y-6">
                <a href="index.html" class="block text-lg font-black border-b pb-4 text-slate-800">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸</a>
                <a href="index.html#about" class="block text-lg font-bold text-slate-600">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã¯</a>
                <a href="index.html#workflow" class="block text-lg font-bold text-slate-600">æŒ‘æˆ¦ã®æµã‚Œ</a>
                <a href="support.html" class="block text-lg font-bold text-blue-600">ä¼æ¥­ã®çš†æ§˜ã¸</a>
                <a href="explore.html" class="block text-lg font-bold text-orange-500">è¡—ã‚’æ¢æ¤œã—ã¦ã¿ã‚‹</a>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="py-12 md:py-20 px-6 text-center text-slate-800">
        <div class="container mx-auto max-w-4xl text-slate-800">
            <span class="inline-block bg-yellow-400 text-yellow-900 px-4 py-1 rounded-full text-xs md:text-sm font-bold mb-6 shadow-sm tracking-wide">MISSION: è¡—ã®ã€ŒãŠé¡Œã€ã‚’è¦‹ã¤ã‘ã‚ˆã†ï¼</span>
            <h1 class="text-3xl md:text-6xl font-black mb-6 md:mb-8 leading-tight text-slate-900">
                ãã¿ã¯ã€Œè¡—ã®æ¢æ¤œå®¶ã€ã ï¼<br>
                <span class="text-blue-600 italic">Toshima Adventure</span>
            </h1>
            <p class="text-base md:text-xl text-slate-700 mb-8 leading-relaxed font-medium">
                è±Šå³¶åŒºã®æœªæ¥ã‚’è€ƒãˆã‚‹ãŸã‚ã®ã€ŒãŠé¡Œã€ã‚’AIã¨ä¸€ç·’ã«æ¢ã—ã¦ã¿ã‚ˆã†ã€‚<br>
                ãã¿ã®å¥½ããªã“ã¨ã‚„ã€è¡—ã§è¦‹ã¤ã‘ãŸã“ã¨ã‚’æ•™ãˆã¦ã­ï¼
            </p>
        </div>
    </section>

    <!-- 7 Directions Section (æ¢æ¤œã®ãƒ’ãƒ³ãƒˆ) -->
    <section class="px-6 mb-16">
        <div class="container mx-auto max-w-6xl text-slate-800">
            <div class="text-center mb-10 text-slate-800">
                <h2 class="text-xl md:text-2xl font-black text-blue-800 bg-blue-100 inline-block px-6 py-2 rounded-full">
                    æ¢æ¤œã®ãƒ’ãƒ³ãƒˆï¼š7ã¤ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³
                </h2>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-slate-800">
                <div class="adventure-card bg-white p-6 rounded-[2rem] shadow-lg border-b-4 border-pink-400 text-slate-800">
                    <div class="text-4xl mb-4 text-slate-800">ğŸ’</div>
                    <h3 class="font-bold text-pink-700 mb-2">å­¦æ ¡ãƒ»éŠã³å ´ã‚’ã‚‚ã£ã¨æ¥½ã—ãï¼</h3>
                    <p class="text-xs text-slate-500 leading-relaxed text-slate-500">æ”¾èª²å¾ŒãŒã‚‚ã£ã¨ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã«ã¯ï¼Ÿã¿ã‚“ãªãŒæ¥½ã—ãå­¦ã¹ã‚‹ä»•çµ„ã¿ã‚’è€ƒãˆã‚ˆã†ã€‚</p>
                </div>
                <div class="adventure-card bg-white p-6 rounded-[2rem] shadow-lg border-b-4 border-red-400 text-slate-800">
                    <div class="text-4xl mb-4 text-slate-800">ğŸ›¡ï¸</div>
                    <h3 class="font-bold text-red-700 mb-2">è¡—ã®ã€Œå®‰å¿ƒã€ã‚’å®ˆã‚ŠæŠœã“ã†ï¼</h3>
                    <p class="text-xs text-slate-500 leading-relaxed text-slate-500">åœ°éœ‡ã®æ™‚ã©ã†ã™ã‚‹ï¼Ÿå¤œé“ã§æš—ã„ã¨ã“ã‚ã¯ãªã„ï¼Ÿã¿ã‚“ãªã‚’å®ˆã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ¢ãã†ã€‚</p>
                </div>
                <div class="adventure-card bg-white p-6 rounded-[2rem] shadow-lg border-b-4 border-yellow-400 text-slate-800">
                    <div class="text-4xl mb-4 text-slate-800">ğŸ˜Š</div>
                    <h3 class="font-bold text-yellow-700 mb-2">ã¿ã‚“ãªã®ã€Œç¬‘é¡”ã€ã‚’å¢—ã‚„ãã†ï¼</h3>
                    <p class="text-xs text-slate-500 leading-relaxed text-slate-500">èµ¤ã¡ã‚ƒã‚“ã‹ã‚‰ãŠå¹´å¯„ã‚Šã¾ã§ã€å›°ã£ã¦ã„ã‚‹äººã¯ã„ãªã„ã‹ãªï¼ŸåŠ©ã‘åˆã„ã®ç¨®ã‚’æ¢ãã†ã€‚</p>
                </div>
                <div class="adventure-card bg-white p-6 rounded-[2rem] shadow-lg border-b-4 border-orange-400 text-slate-800">
                    <div class="text-4xl mb-4 text-slate-800">ğŸ¬</div>
                    <h3 class="font-bold text-orange-700 mb-2">å•†åº—è¡—ã‚’å…ƒæ°—ã„ã£ã±ã„ã«ï¼</h3>
                    <p class="text-xs text-slate-500 leading-relaxed text-slate-500">ãã¿ã®å¥½ããªãŠåº—ã‚’å¿œæ´ï¼æ–°ã—ã„ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚„æ¥½ã—ã„çœ‹æ¿ã‚’è€ƒãˆã¦ã¿ã‚ˆã†ã€‚</p>
                </div>
                <div class="adventure-card bg-white p-6 rounded-[2rem] shadow-lg border-b-4 border-green-400 text-slate-800">
                    <div class="text-4xl mb-4 text-slate-800">ğŸŒ¿</div>
                    <h3 class="font-bold text-green-700 mb-2 text-green-700 text-green-700 text-green-700">åœ°çƒã¨ã¿ã©ã‚Šã‚’å®ˆã‚‹ãƒŸãƒƒã‚·ãƒ§ãƒ³</h3>
                    <p class="text-xs text-slate-500 leading-relaxed text-slate-500 text-slate-500 text-slate-500">ã‚´ãƒŸã‚’æ¸›ã‚‰ã™ã«ã¯ï¼Ÿå…¬åœ’ã®ç·‘ã‚’ã‚‚ã£ã¨å¢—ã‚„ã™ã«ã¯ï¼Ÿåœ°çƒã«ã‚„ã•ã—ã„è¡—ã«ã—ã‚ˆã†ã€‚</p>
                </div>
                <div class="adventure-card bg-white p-6 rounded-[2rem] shadow-lg border-b-4 border-purple-400 text-slate-800">
                    <div class="text-4xl mb-4 text-slate-800">ğŸ¨</div>
                    <h3 class="font-bold text-purple-700 mb-2 text-purple-700 text-purple-700">ã‚¢ãƒ¼ãƒˆã¨ã‚¢ãƒ‹ãƒ¡ã§ç››ã‚Šä¸Šã’ã‚ˆã†ï¼</h3>
                    <p class="text-xs text-slate-500 leading-relaxed text-slate-500">æ–‡åŒ–ã®åŠ›ã§ã€ä¸–ç•Œä¸­ã®äººã‚’ã€ŒãŠã‚‚ã¦ãªã—ã€ã™ã‚‹å·¥å¤«ã¯ãªã„ã‹ãªï¼Ÿ</p>
                </div>
                <div class="adventure-card bg-white p-6 rounded-[2rem] shadow-lg border-b-4 border-blue-400 sm:col-span-2 lg:col-span-1 text-slate-800">
                    <div class="text-4xl mb-4 text-slate-800">ğŸšŒ</div>
                    <h3 class="font-bold text-blue-700 mb-2 text-blue-700 text-blue-700">æœªæ¥ã®ã€Œä¹—ã‚Šç‰©ãƒ»åºƒå ´ã€ã‚’è€ƒãˆã‚ˆã†</h3>
                    <p class="text-xs text-slate-500 leading-relaxed text-slate-500 text-slate-500 text-slate-500">ã‚¤ã‚±ãƒã‚¹ã‚„å…¬åœ’ã®åºƒå ´ã‚’ã€ã‚‚ã£ã¨ä½¿ã„ã‚„ã™ãã€ã‚‚ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹æ–¹æ³•ã¯ãªã„ã‹ãªï¼Ÿ</p>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Adventure Mentor Section -->
    <section class="px-6 mb-20 text-slate-800">
        <div class="container mx-auto max-w-3xl text-slate-800">
            <div class="bg-white p-6 md:p-12 rounded-[2.5rem] md:rounded-[3rem] shadow-2xl border-4 border-blue-200 relative overflow-hidden text-slate-800">
                <div class="absolute top-0 right-0 p-4 opacity-5 text-slate-800">
                    <svg class="w-24 h-24 text-slate-800" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"/></svg>
                </div>
                
                <h2 class="text-xl md:text-3xl font-black mb-6 text-blue-700 flex items-center gap-3">
                    <span>âœ¨</span> AIã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼ãƒ»ãƒ¡ãƒ³ã‚¿ãƒ¼
                </h2>
                <p class="mb-8 font-bold text-slate-600 text-sm md:text-base leading-relaxed text-slate-600">
                    è¡—ã§è¦‹ã¤ã‘ãŸã“ã¨ã‚„ã€ãã¿ãŒæ°—ã«ãªã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æ•™ãˆã¦ï¼<br>
                    è±Šå³¶åŒºã®ã€ŒåŸºæœ¬è¨ˆç”»ã€ã®ä¸­ã‹ã‚‰ã€ãã¿ã«ã´ã£ãŸã‚Šã®ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹ã‚ˆã€‚<br>
                    <span class="text-[10px] md:text-xs text-slate-400 mt-2 block break-phrase text-slate-400 text-slate-400">â€»AIã®å›ç­”ã¯ã‚ãã¾ã§ä¸€ä¾‹ã§ã™ã€‚</span>
                    <span class="text-[10px] md:text-xs text-orange-400 block font-bold text-orange-400 text-orange-400">â€»åå‰ã‚„ä½æ‰€ãªã©ã¯æ›¸ã‹ãªã„ã§ã­ã€‚</span>
                </p>
                <div class="space-y-6 text-slate-800">
                    <div>
                        <label class="block text-xs md:text-sm font-black mb-2 text-blue-600 text-blue-600">ãã¿ã®å¥½ããªã“ã¨ã€ã¾ãŸã¯è¡—ã§è¦‹ã¤ã‘ãŸã“ã¨ã‚’æ•™ãˆã¦ï¼</label>
                        <textarea id="aiInput" class="w-full p-4 border-2 border-slate-200 rounded-2xl focus:border-blue-500 focus:outline-none transition min-h-[120px] text-slate-800 text-sm md:text-base text-slate-800" placeholder="ä¾‹ï¼šã‚¢ãƒ‹ãƒ¡ãŒå¥½ãã€å…¬åœ’ã«ã‚´ãƒŸãŒã‚ã£ãŸã€ãªã©"></textarea>
                    </div>
                    <button id="generateBtn" onclick="generateMission()" class="w-full bg-blue-600 text-white py-4 rounded-2xl font-black text-lg md:text-xl shadow-lg hover:bg-blue-700 transition transform active:scale-95 flex items-center justify-center gap-3 text-white">
                        ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆã™ã‚‹ ğŸš€
                    </button>
                </div>

                <div id="resultArea" class="mt-8 md:mt-10 hidden text-slate-800">
                    <div id="loading" class="ai-shimmer h-32 rounded-2xl flex items-center justify-center font-bold text-blue-600 text-sm md:text-base text-blue-600">è±Šå³¶åŒºã®æœªæ¥ã‚’ã‚¹ã‚­ãƒ£ãƒ³ä¸­...</div>
                    <div id="missionContent" class="hidden text-slate-800">
                        <div class="bg-orange-50 p-6 rounded-3xl border-2 border-orange-200 text-slate-800 text-slate-800">
                            <span class="inline-block bg-orange-500 text-white px-3 py-1 rounded-full text-[10px] font-bold mb-3 uppercase tracking-wider text-white">Your Mission</span>
                            <div id="missionText" class="text-base md:text-lg font-bold text-slate-800 leading-relaxed whitespace-pre-wrap text-slate-800 text-slate-800 text-slate-800"></div>
                            <div class="mt-6 pt-6 border-t border-orange-200 text-slate-800">
                                <p class="text-xs md:text-sm font-bold text-orange-700 mb-2 text-orange-700 text-orange-700 text-orange-700">ğŸ’¡ ãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹</p>
                                <div id="mentorAdvice" class="text-xs md:text-sm text-slate-600 leading-relaxed text-slate-600 text-slate-600"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 md:py-20 px-6 bg-gray-900 text-white text-center text-white">
        <div class="container mx-auto max-w-5xl text-white">
            <h2 class="text-xl md:text-2xl font-bold mb-8 text-white">é‹å–¶äº‹å‹™å±€ãƒ»ãŠå•ã„åˆã‚ã›</h2>
            <div class="space-y-2 text-gray-300 text-xs md:text-sm mb-12 text-slate-300">
                <p><strong>ä¸»å‚¬ï¼š</strong> è±Šå³¶åŒºï¼ˆåŒºæ°‘éƒ¨ åœ°åŸŸåŒºæ°‘ã²ã‚ã°èª² äº‹æ¥­ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰</p>
                <p><strong>é‹å–¶ï¼š</strong> æ ªå¼ä¼šç¤¾SSAA</p>
            </div>
            <div class="flex flex-col items-center">
                <p class="text-[10px] md:text-xs text-gray-400 mb-2 uppercase tracking-widest text-slate-400">Inquiry</p>
                <p class="text-2xl md:text-3xl font-black mb-8 text-blue-400 tracking-tighter text-blue-400">toshima-ideathon@ssaa.ooo</p>
                <a href="https://docs.google.com/forms/d/e/1FAIpQLScArGkIh-Mm3Twksi7stpZiE2qManY7njfPVLlRDv1rK-x54Q/viewform?usp=header" target="_blank" class="inline-block bg-white text-gray-900 px-10 py-4 rounded-full font-bold text-sm md:text-base hover:bg-blue-100 transition shadow-xl text-slate-900">ãƒ•ã‚©ãƒ¼ãƒ ã§å•ã„åˆã‚ã›ã‚‹</a>
            </div>
        </div>
    </footer>

    <script>
        // Menu Toggle
        const menuBtn = document.getElementById('menu-btn');
        const overlay = document.getElementById('mobile-menu-overlay');
        const content = document.getElementById('mobile-menu-content');
        function toggleMenu() {
            const isActive = content.classList.contains('active');
            if (!isActive) { overlay.classList.add('active'); content.classList.add('active'); }
            else { overlay.classList.remove('active'); content.classList.remove('active'); }
        }
        menuBtn?.addEventListener('click', toggleMenu);

        // AI Logic: Vercelä¸Šã®/api/missionã‚’å‘¼ã³å‡ºã™
        async function generateMission() {
            const input = document.getElementById('aiInput').value;
            if (!input) { alert("æ¢æ¤œã—ãŸã„ã“ã¨ã‚’å…¥åŠ›ã—ã¦ã­ï¼"); return; }
            const generateBtn = document.getElementById('generateBtn');
            const resultArea = document.getElementById('resultArea');
            const loading = document.getElementById('loading');
            const missionContent = document.getElementById('missionContent');

            generateBtn.disabled = true;
            resultArea.classList.remove('hidden');
            loading.classList.remove('hidden');
            missionContent.classList.add('hidden');

            try {
                const response = await fetch('/api/mission', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ input })
                });

                const result = await response.json();
                if (!response.ok) throw new Error(result.error || 'é€šä¿¡ã‚¨ãƒ©ãƒ¼');

                document.getElementById('missionText').innerText = result.missionTitle + "\n\n" + result.missionDescription;
                document.getElementById('mentorAdvice').innerText = result.advice;
                loading.classList.add('hidden');
                missionContent.classList.remove('hidden');
            } catch (error) {
                console.error("AI Error:", error);
                alert("AIãƒªãƒ¼ãƒ€ãƒ¼ãŒå°‘ã—ä½œæˆ¦ä¼šè­°ä¸­ã¿ãŸã„ã ã€‚å°‘ã—æ™‚é–“ã‚’ãŠã„ã¦ã‹ã‚‰ã‚‚ã†ä¸€åº¦æŠ¼ã—ã¦ã­ï¼");
            } finally {
                generateBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
